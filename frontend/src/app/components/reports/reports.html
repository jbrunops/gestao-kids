<div class="reports-container">
  <!-- Header -->
  <div class="header">
    <div class="header-left">
      <div class="logo">
        <span class="logo-icon">üìä</span>
        <span class="logo-text">Tempo Kids</span>
      </div>
    </div>
    
    <div class="header-right">
      <nav class="header-nav">
        <a href="#" class="nav-link" (click)="goToDashboard()">Painel</a>
        <a href="#" class="nav-link active">Relat√≥rios</a>
        <a href="#" class="nav-link" (click)="goToSettings()">Configura√ß√µes</a>
      </nav>
      <div class="user-avatar">
        <div class="avatar-placeholder" style="background-color: #696969;">
          P
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <div class="reports-content">
      <h1 class="page-title">Relat√≥rios e Estat√≠sticas</h1>
      
      <!-- Filtros -->
      <div class="filters-section">
        <div class="filter-group">
          <label for="childSelect" class="filter-label">Crian√ßa</label>
          <select id="childSelect" [(ngModel)]="selectedChild" (change)="onChildChange()" class="filter-select">
            <option value="">Todas as crian√ßas</option>
            <option *ngFor="let child of children" [value]="child.id">{{ child.name }}</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="periodSelect" class="filter-label">Per√≠odo</label>
          <select id="periodSelect" [(ngModel)]="selectedPeriod" (change)="onPeriodChange()" class="filter-select">
            <option value="week">√öltima semana</option>
            <option value="month">√öltimo m√™s</option>
            <option value="quarter">√öltimos 3 meses</option>
            <option value="year">√öltimo ano</option>
          </select>
        </div>
        
        <div class="filter-group">
          <label for="dateFrom" class="filter-label">Data inicial</label>
          <input type="date" id="dateFrom" [(ngModel)]="dateFrom" (change)="onDateChange()" class="filter-input">
        </div>
        
        <div class="filter-group">
          <label for="dateTo" class="filter-label">Data final</label>
          <input type="date" id="dateTo" [(ngModel)]="dateTo" (change)="onDateChange()" class="filter-input">
        </div>
      </div>

      <!-- Cards de Resumo -->
      <div class="summary-cards">
        <div class="summary-card">
          <div class="card-icon study-icon">üìö</div>
          <div class="card-content">
            <h3 class="card-title">Tempo de Estudo</h3>
            <p class="card-value">{{ summaryData.totalStudyTime }}</p>
            <p class="card-change positive">+{{ summaryData.studyChange }}% vs per√≠odo anterior</p>
          </div>
        </div>
        
        <div class="summary-card">
          <div class="card-icon fun-icon">üéÆ</div>
          <div class="card-content">
            <h3 class="card-title">Tempo de Divers√£o</h3>
            <p class="card-value">{{ summaryData.totalFunTime }}</p>
            <p class="card-change negative">-{{ summaryData.funChange }}% vs per√≠odo anterior</p>
          </div>
        </div>
        
        <div class="summary-card">
          <div class="card-icon total-icon">‚è±Ô∏è</div>
          <div class="card-content">
            <h3 class="card-title">Tempo Total</h3>
            <p class="card-value">{{ summaryData.totalTime }}</p>
            <p class="card-change neutral">{{ summaryData.totalChange }}% vs per√≠odo anterior</p>
          </div>
        </div>
        
        <div class="summary-card">
          <div class="card-icon activities-icon">‚úÖ</div>
          <div class="card-content">
            <h3 class="card-title">Atividades Conclu√≠das</h3>
            <p class="card-value">{{ summaryData.completedActivities }}</p>
            <p class="card-change positive">+{{ summaryData.activitiesChange }}% vs per√≠odo anterior</p>
          </div>
        </div>
      </div>

      <!-- Gr√°ficos -->
      <div class="charts-section">
        <div class="chart-container">
          <h2 class="chart-title">Distribui√ß√£o de Tempo por Dia</h2>
          <div class="chart-placeholder">
            <div class="chart-bars">
              <div *ngFor="let day of weeklyData" class="chart-bar">
                <div class="bar-label">{{ day.day }}</div>
                <div class="bar-container">
                  <div class="bar study-bar" [style.height.%]="day.studyPercentage"></div>
                  <div class="bar fun-bar" [style.height.%]="day.funPercentage"></div>
                </div>
                <div class="bar-value">{{ day.totalTime }}</div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="chart-container">
          <h2 class="chart-title">Atividades Mais Realizadas</h2>
          <div class="chart-placeholder">
            <div class="activities-list">
              <div *ngFor="let activity of topActivities" class="activity-item">
                <div class="activity-icon">{{ activity.icon }}</div>
                <div class="activity-info">
                  <span class="activity-name">{{ activity.name }}</span>
                  <span class="activity-count">{{ activity.count }} vezes</span>
                </div>
                <div class="activity-bar">
                  <div class="activity-progress" [style.width.%]="activity.percentage"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Tabela Detalhada -->
      <div class="table-section">
        <h2 class="section-title">Relat√≥rio Detalhado</h2>
        <div class="table-container">
          <table class="reports-table">
            <thead>
              <tr>
                <th>Data</th>
                <th>Crian√ßa</th>
                <th>Atividade</th>
                <th>Tipo</th>
                <th>Dura√ß√£o</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let report of detailedReports" class="report-row">
                <td class="report-date">{{ report.date }}</td>
                <td class="report-child">{{ report.childName }}</td>
                <td class="report-activity">{{ report.activityName }}</td>
                <td>
                  <span class="activity-tag" [ngClass]="report.type === 'study' ? 'study-tag' : 'fun-tag'">
                    {{ report.type === 'study' ? 'Estudo' : 'Divers√£o' }}
                  </span>
                </td>
                <td class="report-duration">{{ report.duration }}</td>
                <td>
                  <span class="status-badge" [ngClass]="report.status === 'completed' ? 'completed' : 'incomplete'">
                    {{ report.status === 'completed' ? 'Conclu√≠da' : 'Incompleta' }}
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Bot√µes de A√ß√£o -->
      <div class="action-buttons">
        <button class="export-button" (click)="exportReport()">
          üìÑ Exportar Relat√≥rio
        </button>
        <button class="print-button" (click)="printReport()">
          üñ®Ô∏è Imprimir
        </button>
      </div>
    </div>
  </div>
</div>
